<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xiaoyuan.mapper.FeedbackMapper" >
    <resultMap id="BaseResultMap" type="com.xiaoyuan.model.Feedback" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Nov 25 17:09:46 CST 2019.
        -->
        <id column="feedback_id" property="feedbackId" jdbcType="INTEGER" />
        <result column="school_ID" property="schoolId" jdbcType="INTEGER" />
        <result column="schoolname" property="schoolname" jdbcType="VARCHAR"/>
        <result column="class_id" property="classId" jdbcType="VARCAHR"/>
        <result column="classname" property="classname" jdbcType="VARCAHR"/>
        <result column="feedback_person" property="feedbackperson" jdbcType="VARCHAR"/>
        <result column="content" property="content" jdbcType="VARCHAR" />
        <result column="status" property="Status" jdbcType="VARCHAR" />
        <result column="reply" property="reply" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    </resultMap>
    <select id="selectFeedback" resultMap="BaseResultMap">
        <!--查询所有反馈信息-->
        select schoolname, classname, feedback_person, content, create_time, status
        from tl_school_feedback
    </select>

    <insert id="insertReply" parameterType="om.xiaoyuan.model.Feedback">
        <!--添加反馈信息-->
        insert into tl_school_feedback(reply)
        valus #{reply,jdbcType=VARCAHR}
        where feedback_id=#{feedbackId,jdbcType=INTEGER}
    </insert>

    <update id="updateStatus" parameterType="com.xiaoyuan.model.Feedback">
        <!--修改反馈状态-->
        update tl_school_feedback
        set status = #{Status,jdbcType=VARCAHR}
        where feedback_id=#{feedbackId,jdbcType=INTEGER}
    </update>


    <delete id="deleteFeedback" parameterType="com.xiaoyuan.model.Feedback">
        <!--删除反馈信息-->
        delete from tl_school_feedback
        where feedback_id=#{feedbackId,jdbcType=INTEGER}
    </delete>
</mapper>
